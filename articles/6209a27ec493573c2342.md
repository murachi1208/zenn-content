---
title: "GrowthForecast ã‚’CentOS6.5ï¼ˆVagrantï¼‰ã«å°å…¥ã—ã¦ã¿ãŸã€ãã®ï¼‘"
emoji: "ğŸ“"
type: "tech"
topics: growthforecast CentOS6.5 Vagrant
published: true
---

# GrowthForecast ã£ã¦ï¼Ÿ
fluentd(td-agent) + Elasticsearch ã¨ã„ã†ãã‚‰ã„ã‚°ãƒ©ãƒ•åŒ–ã™ã‚‹ã®ã«ã‚ˆãä½¿ã‚ã‚Œã‚‹çµ„ã¿åˆã‚ã›ã® [GrowthForecast](http://kazeburo.github.io/GrowthForecast/) ã€‚ãƒ­ãƒ³ã‚°ãƒ†ãƒ¼ãƒ«ã‚°ãƒ©ãƒ•ã‚’ä½œã‚‹ã¨ãã€Œç°¡å˜ã€RESTã€API ã€ã£ã¦ä¸‰æ‹å­æƒã£ã¦ã„ã‚‹ã®ã§ã©ã“ã‹ã®ç‰›ä¸¼å±‹ã•ã‚“ã¿ãŸã„ãªæ„Ÿã˜ã§ãŠæ‰‹è»½ã«ã‚°ãƒ©ãƒ•ãŒä½œæˆã§ãã¾ã™ã€‚

> [GrowthForecast å…¬å¼ã‚µã‚¤ãƒˆ](http://kazeburo.github.io/GrowthForecast/)
> [GrowthForecast ã‚’ CentOS 6.3 ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ Supervisor ã§ç®¡ç†ã—ã¦ã¿ãŸ](http://blog.inouetakuya.info/entry/20130211/1360570283)
> [Docker ã§ Growthforecast ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹æ–¹æ³•](http://blog.64p.org/entry/2013/08/14/185519)

# ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ
perlbrew ã¨ã„ã† Perl ã® sandboxçš„ãªã‚ã‚Œã§å‹•ä½œã•ã›ã¤ã¤ GrowthForecast ã‚’èµ·å‹•ã™ã‚‹ã£ã¦ã„ã†ã®ãŒæµè¡Œã‚Šã‚‰ã—ã„ã®ã§ãã‚Œã«ã®ã£ã¦ï¼ˆãã£ã¦ï¼‰ã¿ã¾ã™ã€‚ã¨ã„ã†ã‹å€‹äººçš„ã«ã¯ cpan + Perl ã®æ§‹æˆã§è§£æãƒ„ãƒ¼ãƒ«ç³»ã‚’ä½œã‚‹ã®ãŒæ™®é€šãªæ„Ÿã˜ã¨æ€ã£ã¦ã„ãŸã‚‰æœ€è¿‘ã¯ã€ã‚ã¾ã‚Šäººæ°—ãªã„ã£ã½ã„ã§ã™ã­ã€‚Perl ã¯ã€ã„ã„æ„å‘³ã§æ¯ã‚ŒãŸæŠ€è¡“ãªã®ã§å¥½ããªã®ã§ã™ãŒxmlã¨ã‹è‰²ã€…ã‚„ã‚ã†ã¨æ€ã†ã¨ç¢ºã‹ã«è¾›ã„ãƒ»ãƒ»ãƒ»ï½—

> [growthforecastå…¥ã‚Œã¦ã¿ã‚‹](http://tweeeety.hateblo.jp/entry/20140114/1389666922)
> []()

# å¿…é ˆãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®å°å…¥
ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨fontã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```
# yum groupinstall "Development Tools"
# yum install pkgconfig glib2-devel gettext libxml2-devel pango-devel cairo-devel
# yum install ipa-gothic-fonts ipa-mincho-fonts ipa-pgothic-fonts ipa-pmincho-fonts
```

# ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒ¦ãƒ¼ã‚¶ä½œæˆ
growthforecast ã¯ã€å¤ã„ Perl ã ã¨å‹•ä½œã—ãªã„ã‚‰ã—ã„ã®ã¨ã€capn ã§ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã¨ä½•æ°—ã«æ±šã‚Œã‚‹ã®ã§ growthforecast ã‚’å‹•ä½œã™ã‚‹ãŸã‚ã®ç’°å¢ƒã¨ãƒ¦ãƒ¼ã‚¶ã‚’ä½œæˆã—ã¾ã™ã€‚ä»¥é™ã€$ â† ã¯ã€growthforecast ã§æ“ä½œã—ã¦ã¾ã™ã‚“ã§ã‚ˆã‚ã—ãã€‚

```
# useradd growthforecast
# passwd growthforecast
```

# perlbrewã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```
# su - growthforecast
$ curl -kL http://install.perlbrew.pl | bash
$ echo "source ~/perl5/perlbrew/etc/bashrc" >> ~/.bashrc
$ source ~/.bashrc
$ source ~/perl5/perlbrew/etc/bashrc
```

# stable ãªæœ€æ–° Perl ã®ã‚¤ãƒ³ã‚¹ã‚³
å¥‡æ•°ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ã€Î²ç‰ˆãªã®ã§å¶æ•°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€‚æœ€æ–°ç‰ˆã¯ã€äººæŸ±ã®åŒ‚ã„ãŒã™ã‚‹ã®ã§ï¼‘ã¤æ‰‹å‰ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å°å…¥ã—ã¾ã™ã€‚ã¡ãªã¿ã« install ã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‹ã‚‰ã™ã‚‹ã®ã§20ï½30åˆ†ã‹ã‹ã‚Šã¾ã™ã€‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒçµ‚ã‚ã£ãŸã‚‰ switch ã§ 5.20.0 ç’°å¢ƒã«ã—ã¾ã™ï¼ˆã“ã“é‡è¦ï¼‰ã€‚

``` 
$ perlbrew available
$ perlbrew install perl-5.20.0
$ perlbrew switch perl-5.20.0
```

# GrowthForecast ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« çµæ§‹æ™‚é–“ãŒã‹ã‹ã‚‹
cpanm ã§ GrowthForecast ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€‚ã“ã¡ã‚‰ã€Œã‚‚ã€20ï½30åˆ†ã‹ã‹ã‚Šã¾ã™ã€‚æ°—é•·ã«å¾…ã¡ã¾ã™ã€‚

```
$ cpanm -n GrowthForecast
```

# ãƒ­ã‚°ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆ
ã“ã£ã¡ã¯ root ã§ä½œæˆã—ã¾ã™ã€‚GrowthForecast ã®ã‚¤ãƒ³ã‚¹ã‚³æ–¹æ³•ã‚’ã‚°ã‚°ã‚‹ã¨ ```/var/run``` ã‚’æŒ‡å®šã—ã¦ã‚‹ã®ãŒå¤šã„ã‚“ã ã‘ã©ã‚·ã‚¹ãƒ†ãƒ å†èµ·å‹•ã—ãŸã‚‰æ¶ˆãˆã¦ã—ã¾ã†ã‚ˆã¨æ³¨æ„ã—ãŸã„ã€‚

```
# mkdir -p /var/log/growthforecast/data
# mkdir -p /var/log/growthforecast/log
# chmod -R 777 /var/log/growthforecast
```

# èµ·å‹•ã—ã¦ã¿ã‚‹
ã¨ã‚Šã‚ãˆãš demon åŒ–ã¨ã‹ãã“ã‚‰ã¸ã‚“ã¯ãŠã„ã¨ã„ã¦èµ·å‹•ã—ã¦ã¿ã‚‹ã€‚growthforecast ç›´ã«èµ·å‹•ã™ã‚Œã°ã„ã„ã§ã™ã€‚apache, nginx ã¨ã‹ã„ã‚Šã¾ã›ã‚“ï½—

```
$ growthforecast.pl --port=5125 --data-dir=/var/log/growthforecast/data > /var/log/growthforecast/log/growthforecast.log 2> /var/log/growthforecast/log/growthforecast.err
```

```http://localhost:5125/``` ã§ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã¾ã™ã€‚ä¸‹è¨˜ã®ç”»é¢ãŒè¦‹ã‚Œãªã„ï¼ˆç«‹ã¡ä¸ŠãŒã‚‰ãªã„ã¨ãï¼‰å ´åˆã¯ã€```/var/log/growthforecast/log/growthforecast.err``` ã‚’è¦‹ã¦ã¿ã‚‹ã€‚

![growthforecase.png](https://qiita-image-store.s3.amazonaws.com/0/44540/ff77a611-6f42-0820-d09f-56ff6c2d6a56.png)

# API ã®å©ãæ–¹
ã“ã‚“ãªæ„Ÿã˜

```
curl -F number=500 http://localhost:5125/api/view_graph/fx/hage/AUD
```

ã‚ã¨ã¯å…¬å¼ã‚µã‚¤ãƒˆã‚’å‚è€ƒã«ã™ã‚‹ã‚ˆã‚ã—ã€‚

> [GrowthForecast](http://kazeburo.github.io/GrowthForecast/)

# ãã®ï¼’
[GrowthForecast ã‚’CentOS6.5ï¼ˆVagrantï¼‰ã«å°å…¥ Supervisor ã—ã¦ã¿ãŸã€ãã®ï¼’](http://qiita.com/murachi1208/items/6b36d6c94563f0ad8004)

# å¿œç”¨ç·¨

> [fluent ã¨ growthforecast ã‚’é€£æºã•ã›ã¦ã•ãã•ãã‚°ãƒ©ãƒ•ã‚’æãAdd Star](http://pgsqldeepdive.blogspot.jp/2012/12/growthforecast.html)
> [CloudWatchã‚’GrowthForecastã§ãƒ­ãƒ³ã‚°ã‚¹ãƒ‘ãƒ³ã‚°ãƒ©ãƒ•åŒ–ã™ã‚‹](http://dev.classmethod.jp/cloud/aws/cloudwatch-to-growthforecast/)


