---
title: "XAMPP ãªã—ã§ã€Windows ã® Visual Studio Code ã‚’ä½¿ã£ã¦ PHP ãƒ‡ãƒãƒƒã‚°ã—ã¦ã¿ã‚‹"
emoji: "ğŸ“"
type: "tech"
topics: xampp Windows PHP VSCode
published: true
---

XAMPPã‚’å…¥ã‚Œã‚Œã°ç°¡å˜ã«å®Ÿç¾ã§ãã¾ã™ãŒã€ã‚¿ã‚¤ãƒˆãƒ«ã¨ãŠã‚Šã€ŒWebã‚µãƒ¼ãƒãªã—ã§ã€ã‚ãˆã¦ãƒ­ãƒ¼ã‚«ãƒ« PHPã€€ã ã‘ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ Visual Studio Codeï¼ˆä»¥ä¸‹ VSCodeï¼‰ã§ PHP ã‚’å®Ÿè¡Œï¼†ãƒ‡ãƒãƒƒã‚°ã—ã¦ã¿ã¾ã™ã€‚â€»XAMPPãŒå«Œã„ãªè¨³ã§ã¯ãªã„

ãŠç´„æŸã®å¾®å¦™ã«ã¯ã¾ã‚‹ç‚¹ãŒã‚ã£ãŸã®ã§è‡ªåˆ†ãƒ¡ãƒ¢ç”¨ã«æ®‹ã—ã¦ãŠãã¾ã™ã€‚

# å‹•ä½œç’°å¢ƒ
- Windows 8/10
- Visual Studio Code 1.43.1 â€»ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã§ã‚ã‚‹ã“ã¨
- [PHP 7.4.4](https://windows.php.net/download#php-7.4)  (VC15 x64 Thread Safe / php-7.4.4-Win32-vc15-x64.zip)

## PHP ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
https://windows.php.net/download#php-7.4 ã‹ã‚‰ Thread Safe ç‰ˆã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ä»»æ„ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«å±•é–‹ã—ã¦ãŠãã€‚ï¼ˆã“ã“ã§ã¯ C:\php7 ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã¿ã¦ã¾ã™ï¼‰

Windowsã®ç’°å¢ƒå¤‰æ•°ã« `C:\php7` ã‚’è¿½åŠ ã—ã¦é»’ã„ç”»é¢ã§ `php -v` ã‚’å©ã„ã¦ã¿ã‚‹ã€‚

ã¨â€¦ä¸‹è¨˜ãŒè¡¨ç¤ºã•ã‚Œãªã‘ã‚Œã°ã€ã„ã„ã®ã ãŒâ€¦

```text
PHP Warning:  'vcruntime140.dll' 14.0 is not compatible with this PHP build linked with 14.16 in Unknown on line 0
```

è¡¨ç¤ºã•ã‚ŒãŸå ´åˆã¯ã€ã€ŒVisual Studio 2019 ã® Microsoft Visual C++ å†é ’å¸ƒå¯èƒ½ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã€ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã¨[è§£æ¶ˆ](https://qiita.com/ricchan_k/items/5b05851a351d3d590f34#vcruntime140dll%E3%81%A3%E3%81%A6%E4%BD%95)ã—ã¾ã™ã€‚

ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å…ˆã¯ã€[ã“ã“](https://visualstudio.microsoft.com/ja/downloads/) ã‹ã‚‰ã§ã™ãŒåˆ¤ã‚Šã¥ã‚‰ã„ã€‚ä¸‹ã¾ã§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦ã€Œãã®ä»–ã®ãƒ„ãƒ¼ãƒ«ã¨ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãŒé …ç›®ã‚ã‚Šã¾ã™ã€‚

## PHPãƒ‡ãƒãƒƒã‚°ãƒ„ãƒ¼ãƒ«ã€ŒXDebugã€ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
PHPã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«åˆã‚ã›ãŸå½¢ã§ XDebugãŒã‚ã‚‹ã‚ˆã†ã§ã™ã®ã§ãã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é †ã€‚

æ‰‹é †ï¼‘
`C:\PHP7` ã®ä¸‹ã«ã‚ã‚‹ `php.ini-production` ã‚’ `php.ini` ã«ã‚³ãƒ”ãƒ¼ã™ã‚‹ã€‚

æ‰‹é †ï¼’
é»’ã„ç”»é¢ã§ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã€‚ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«çµæœãŒã‚³ãƒ”ãƒ¼ã•ã‚Œã¾ã™ã€‚

```cmd
C:\> php -i | clip
```

[https://xdebug.org/wizard](https://xdebug.org/wizard) ã‚µã‚¤ãƒˆã«çµæœã‚’è²¼ã‚Šä»˜ã‘ "Analyse my phpinfo output" ãƒœã‚¿ãƒ³ã‚’æŠ¼ä¸‹ã™ã‚‹ã€‚

![vscode_php_1.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/44540/09c2e0e6-797f-397f-289b-155520274b86.png)


ä¸Šè¨˜ã® Instructions ã«å¾“ã„ xdebug ã® DLL ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã— C:/php7/ext ä»¥ä¸‹ã«é…ç½®ã™ã‚‹ã€‚

æ‰‹é †ï¼“
`php.ini` ã®å…ˆé ­ã«ä¸‹è¨˜ã‚’ã‚³ãƒ”ãƒšã™ã‚‹ã€‚ä¸Šè¨˜ã® Instructions ã§æŒ‡ç¤ºã•ã‚Œã¦ã„ã‚‹ `zend_extension` ãƒ‘ã‚¹ã¯æŒ‡å®šã•ã‚ŒãŸã¨ãŠã‚Šã«è¨˜è¿°ã™ã‚‹ã¨é–“é•ã£ã¦ã„ã‚‹ã®ã§ã€DLL ã‚’é…ç½®ã—ãŸãƒ‘ã‚¹ã‚’ã¡ã‚ƒã‚“ã¨è¨˜è¿°ã™ã‚‹ã€‚

```text
zend_extension = C:\php7\ext\php_xdebug-2.9.3-7.4-vc15-x86_64.dll
xdebug.remote_enable = 1
xdebug.remote_autostart = 1
xdebug.remote_host = 127.0.0.1
xdebug.remote_port = 9000
```

é»’ã„çª“ã§ `php -v` ã¨å®Ÿè¡Œã—ã¦ã¿ã¦ä¸‹è¨˜ã® Warning(warn ãªã®ã« Failed â€¦) ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ãªã‘ã‚Œã°OKã€‚

```
PHP Warning: Failed to load C:/php/ext/php_xdebug-2.9.3-7.4-vc15-x86_64.dll, æŒ‡å®šã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚
```

# VSCodeæ‹¡å¼µæ©Ÿèƒ½ PHP Debug ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
å·¦ãƒãƒ¼ã®æ‹¡å¼µæ©Ÿèƒ½ã§ ã€ŒPHP Debugã€ã€ã€ŒPHP IntelliSenseã€ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã€‚

# ãƒ‡ãƒãƒƒã‚¯ã—ã¦ã¿ã‚‹
é©å½“ãª phpãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’è¡¨ç¤ºã—ã€‚å·¦ãƒãƒ¼ã®å®Ÿè¡Œã‚’æŠ¼ä¸‹ã— "To customize Run and Debug create a launch.json" ã®ãƒªãƒ³ã‚¯ã‚’è¸ã‚€ã€‚ãƒ—ãƒ«ãƒ€ã‚¦ãƒ³ã‹ã‚‰ã€ŒPHPã€ã‚’é¸æŠã™ã‚‹ã€‚

![vscode_php_2.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/44540/1d3dc422-5610-cad4-aae4-a538afaa0a4e.png)


`launch.json` ã¯ã€ä»¥ä¸‹ã®æ§˜ã«ï¼‘è¡Œè¿½åŠ ã™ã‚‹ã€‚"name": "Listen for XDebug" ã¯æ¶ˆã—ã¦ã‚‚å•é¡Œãªã„ã€‚

```
{
    "name": "Launch currently open script",
    "type": "php",
    "request": "launch",
    "program": "${file}",
    "cwd": "${fileDirname}",
    "port": 9000,
    "runtimeExecutable": "C:\\php7\\php.exe"
}
```

ãƒ‡ãƒãƒƒã‚¬ãƒ¼ã‚’èµ·å‹•ã—ã¤ã¤ãƒ–ãƒ¬ã‚¤ã‚¯ãƒã‚¤ãƒ³ãƒˆã‚’è¨­å®šã— "Listen for XDebug"ã‚’å®Ÿè¡Œã™ã‚‹ã€‚
ã†ã¾ãã„ã£ãŸï¼¾ï¼¾

![vscode_php_3.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/44540/6ada15cd-03f9-8d85-8221-115ae9f0c208.png)

# å‚è€ƒã‚µã‚¤ãƒˆ
- [Visual Studio Codeã§PHPã‚’ãƒ‡ãƒãƒƒã‚°ã™ã‚‹æ–¹æ³•](https://qiita.com/deux222/items/af75319ece05653c4bb5)
- [PHPã‚’Windows 10ä¸Šã®Visual Studio Codeã‚’ä½¿ã£ã¦ã€ŒWebã‚µãƒ¼ãƒãªã—ã§ã€ãƒ‡ãƒãƒƒã‚°ã™ã‚‹æ–¹æ³•](https://todkm.com/2019/06/4492)
- [Visual Studio Code ã§PHPã‚’é–‹å§‹ã™ã‚‹ã¾ã§ã®æ‰‹é †](https://qiita.com/tfukumori/items/97a8f1ac6532612b004f)
- [ã¾ã ã‚ã‚‹ï¼ã€€PHPãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚’æ”¯æ´ã™ã‚‹æ‹¡å¼µæ©Ÿèƒ½](https://www.atmarkit.co.jp/ait/articles/1809/18/news020.html)





