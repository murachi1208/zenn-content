---
title: "ã„ã¾ã•ã‚‰ fluentdï¼ˆã¾ã ï¼‰ ã‚’ã¯ã˜ã‚ã¦ã¿ãŸ Apache + Elasticsearch + Kibana ãªã«ãã‚Œç¾å‘³ã—ã„ã®ï¼Ÿã€ãã®ï¼”"
emoji: "ğŸ“"
type: "tech"
topics: Fluentd Elasticsearch kibana3 Vagrant CentOS6.5
published: true
---

# ã„ã¾ã•ã‚‰ fluentd ã¯ã˜ã‚ã¦ã¿ã‚‹ï¼”
ãã®å‰ã«ã€[Elasticsearch + Kibana](http://www.elasticsearch.org/) ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•ãŒãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ã‚ˆã‚Šè‰²ã€…ã¨ã‚ã‚Šã€æ¯åº¦ã®ã”ã¨ãã¯ã¾ã‚‹ç§ã€‚2014/7/4ç‰ˆã¨ã—ã¦æœ€æ–°ã® Elasticsearch + Kibana ã‚’ç°¡å˜ã«ã‚¤ãƒ³ã‚¹ã‚³ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§è‡ªåˆ†ãƒ¡ãƒ¢ã€‚

# Elasticsearch + Kibana ã£ã¦
æ—¥æœ¬èªå…¨æ–‡æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã§ã™ã£ã¦ã€‚æ‡ã‹ã—ã„ [Namazu](http://www.namazu.org/index.html.ja) ã‚’æ€ã„å‡ºã—ã¾ã™ã‚ã€‚æ­³ãŒã°ã‚Œã¦ã—ã¾ã„ã¾ã™ã­ï½—
[å®Ÿè·µï¼Elasticsearch](http://engineer.wantedly.com/2014/02/25/elasticsearch-at-wantedly-1.html)ã§ã‚ã‚‹ã‚ˆã†ã«ã€è“„ç©ãƒ‡ãƒ¼ã‚¿ã«å¯¾ã—ã‚¯ã‚¨ãƒªãƒ¼ã‚’ç™ºè¡Œã§ãã‚‹ã‚“ã§ã™ã­ï½ ãã‚Œã‚’ Kibana ã‚’ä½¿ç”¨ã—[ãƒ­ãƒ³ã‚°ãƒ†ãƒ¼ãƒ«ã‚°ãƒ©ãƒ•](http://markezine.jp/article/detail/111)ã‚’ä½œã‚‹ã‚“ã®ãŒæµè¡Œã£ã¦ã„ã‚‹ã¨ãƒ»ãƒ»ãƒ»ãŸã—ã‹ã« Kibana ãŠã•ã‚Œã ã‚ã€‚

> [ElasticSearch+Kibanaã§ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿ã®æ¤œç´¢ã¨è¦–è¦šåŒ–ã‚’å®Ÿç¾ã™ã‚‹ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã¨é‹ç”¨ãƒã‚¦ãƒã‚¦](http://www.slideshare.net/y-ken/elasticsearch-kibnana-fluentd-management-tips)

# ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
ã„ã¤ã‚‚ã®ã”ã¨ã [vm](http://qiita.com/murachi1208/items/99daa3ca069d907a7b50) ã‚’ç”¨æ„ã—ã¦ã‹ã‚‰ï¼‘ï¼åˆ†ã§çµ‚ã‚ã‚Šã¾ã™ã€‚ã»ã‚“ã¨ã†ã«ã€‚ã‚ã¨ CentOS6.5 ã«ã‚¤ãƒ³ã‚¹ã‚³ã—ã¦ã¾ã™ã€‚


# Elasticsearch ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
å¤–éƒ¨ãƒ¬ãƒã‚¸ãƒˆãƒªã®è¿½åŠ (EPEL)ã‚’ãŠã“ãªã„ã¾ã™ã€‚ã¾ãŸ Elasticsearch ã«ã¯ java ãŒå¿…è¦ãªã®ã§ãã‚Œã‚‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚å½¢æ…‹ç´ è§£æå™¨ã® [Kuromoji](http://www.mwsoft.jp/programming/lucene/kuromoji.html) ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã‚‚ã‚ˆã•ã’ã€‚

```
# rpm --import http://packages.elasticsearch.org/GPG-KEY-elasticsearch
# vi /etc/yum.repos.d/elasticsearch.repo
[elasticsearch-1.1]
name=Elasticsearch repository for 1.1.x packages
baseurl=http://packages.elasticsearch.org/elasticsearch/1.1/centos
gpgcheck=1
gpgkey=http://packages.elasticsearch.org/GPG-KEY-elasticsearch
enabled=1

# yum install elasticsearch java-1.7.0-openjdk
# chkconfig --add elasticsearch
# chkconfig elasticsearch on
# service elasticsearch start
```

å‹•ä½œã‚’ãƒã‚§ãƒƒã‚¯

```
$ curl -X GET http://localhost:9200/
{
  "status" : 200,
  "name" : "Wilbur Day",
  "version" : {
    "number" : "1.1.2",
    "build_hash" : "e511f7b28b77c4d99175905fac65bffbf4c80cf7",
    "build_timestamp" : "2014-05-22T12:27:39Z",
    "build_snapshot" : false,
    "lucene_version" : "4.7"
  },
  "tagline" : "You Know, for Search"
}
```

# Apach ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
ã“ã“ã¯ã€ã„ã¤ã‚‚ã®ã”ã¨ãã™ã€‚

```
# yum install httpd
# /etc/init.d/httpd start
# chkconfig httpd on
```

# kibana ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
3.1.0 æœ€æ–°ç‰ˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«(2014/7/4æ™‚ç‚¹)ã€‚

```
# curl -sL https://download.elasticsearch.org/kibana/kibana/kibana-3.1.0.tar.gz | sudo tar zxf - -C /var/www/html
# mv /var/www/html/kibana-3.1.0 /var/www/html/kibana
# /etc/init.d/httpd restart
```

## ã‚¢ã‚¯ã‚»ã‚¹
http://localhost/kibana

![kibana.png](https://qiita-image-store.s3.amazonaws.com/0/44540/f31c73f0-ad1c-2d63-431f-c815fcb098e2.png)

# æ¬¡ã¯
ã‚ˆã†ã‚„ã£ã¨ [fluentd + GrowthForecast ã‚’ä½¿ã£ãŸæ–¹æ³•ã‚’å‹‰å¼·ã—ã¦ã¿ã‚‹ï¼ˆãã®ï¼•ï¼‰](http://qiita.com/murachi1208/items/73ca933fb3dc4457b224) ã§ããŸãƒ¼

## å‚è€ƒã‚µã‚¤ãƒˆ
> [CentOS 6.5 ã« Elasticsearch ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹](http://blog.manabusakai.com/2014/02/centos-elasticsearch-install/)
> [Fluentdã‹ã‚‰Elasticsearchã«è»¢é€ã—ã¦Kibanaã§å¯è¦–åŒ–ã™ã‚‹](http://okochang.hatenablog.jp/entry/2014/03/21/191523)


