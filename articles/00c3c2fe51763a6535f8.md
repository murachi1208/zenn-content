---
title: "Vagrant ã®è¨­å®šï¼ˆä¸»ã«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ï¼‰ã‚ã‚Œã“ã‚Œ"
emoji: "ğŸ“"
type: "tech"
topics: Vagrant
published: true
---

# Vagrant ã®è¨­å®šã‚ã‚Œã“ã‚Œ
ç´°ã‹ã„äº‹ã¯å…¬å¼ã‚µã‚¤ãƒˆã‚’ã¿ã‚‹ã¨ã„ã„ã‚“ã ã‚ã†ã‘ã©è‹±èªã ã—ãƒ»ãƒ»ãƒ»ã¡ã‚‡ã£ã¨ã—ãŸã“ã¨ãªã‚“ã ã‘ã©è‰¯ãå¿˜ã‚Œã‚‹ã®ã§ãƒ¡ãƒ¢ã£ã¦ãŠãã€‚

> [VAGRANT DOC](http://docs.vagrantup.com/v2/networking/private_network.html) / [æ—¥æœ¬èªè¨³](http://lab.raqda.com/vagrant/vagrantfile/machine_settings.html)

## è¶…ãŠã¾ã‹ã›è¨­å®š
æœ€ä½é™ã®è¨­å®šã€ã‚¢ã‚¯ã‚»ã‚¹ã¯ ```127.0.0.1:3333``` ã§ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã€‚

```lang:Vagrantfile
config.vm.define :web do |web|
  web.vm.network :forwarded_port, guest: 22, host: 3333, host_ip: "127.0.0.1", id: "ssh", auto_correct: true
end
```

## Vagrantèµ·å‹•æ™‚ã«shellã‚’å®Ÿè¡Œã•ã›ã‚‹è¨­å®šï¼†åˆ¥ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã®å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€è¿½åŠ ã™ã‚‹è¨­å®š

> [ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½¿ã£ãŸãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°](http://momijiame.tumblr.com/post/70670744574/vagrant-vm)

```lang:Vagrantfile
config.vm.define :web1 do |web1|
   web1.vm.synced_folder "C:/Users/temp/vagrant_share", "/vagrant_share", type: "nfs"

  web1.vm.provision "shell", inline: <<-EOT
    echo hello
  EOT
end
```

## Vagrantå˜ä½ã«ä½¿ç”¨ã™ã‚‹ãƒ¡ãƒ¢ãƒªã‚„ã€ã‚µãƒ¼ãƒåã®è¨­å®š

```lang:Vagrantfile
config.vm.define :web2 do |web2|
  web2.vm.provider "virtualbox" do |v| 
    v.customize ["modifyvm", :id, "--memory", 512] 
    v.name = "web2" 
  end 
end
```

## ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®è¨­å®š
> http://docs.vagrantup.com/v2/networking/private_network.html

```lang:Vagrantfile
config.vm.define :web3 do |web3|
  web3.vm.network :private_network, ip: "192.168.11.200" 
end
```

## ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®è¨­å®š
> http://docs.vagrantup.com/v2/networking/public_network.html

```lang:Vagrantfile
config.vm.define :web4 do |web4|
  web2.vm.network :public_network, ip: "192.168.0.128" 
end
```

## ãƒ›ã‚¹ãƒˆOSã®hostsãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚²ã‚¹ãƒˆOSã®ãƒ›ã‚¹ãƒˆåãƒ»IPã‚’è¿½åŠ ãƒ»å‰Šé™¤ã—ã¦ãã‚Œã‚‹Vagrantãƒ—ãƒ©ã‚°ã‚¤ãƒ³

> https://github.com/cogitatio/vagrant-hostsupdater

ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§ ```vagrant plugin install vagrant-hostsupdater``` ã‚’å®Ÿè¡Œã™ã‚‹ã€‚é€šå¸¸é€šã‚Šã« ```vagrant up```ã§ã€ãƒ›ã‚¹ãƒˆOSå´ã® hosts ãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚²ã‚¹ãƒˆOSã®ãƒ›ã‚¹ãƒˆåãƒ»IPã‚’è¿½åŠ ã—ã¦ãã‚Œã‚‹ãã†ãªã€‚

```
config.vm.hostname = "hogehoge.devel"
config.vm.network :private_network, ip: "192.168.33.250"
```

## ç’°å¢ƒå¤‰æ•°ã§ Vagrant ã® bridge ã‚’æŒ‡å®šã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹
è¤‡æ•°ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚«ãƒ¼ãƒ‰ãŒã‚ã‚‹å ´åˆã€ã“ã‚Œã¯ä¾¿åˆ©ã‹ã‚‚ã€‚

> [ç’°å¢ƒå¤‰æ•°ã§ Vagrant ã® bridge ã‚’æŒ‡å®šã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹](http://qiita.com/elim/items/816f03c732e4b274d181)


## ãƒªãƒ³ã‚¯
> [vagrantã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«ã¤ã„ã¦](http://qiita.com/ftakao2007/items/0ec05c2ef3c14cdbea11)
> [Vagrantã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å‘¨ã‚Šã®ã‚ã‚Œã“ã‚Œ](http://labs.septeni.co.jp/?p=966)
> [vagrantã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®šã‚’è¦‹ã¦ã¿ã‚ˆã†ã€‚](https://ie.u-ryukyu.ac.jp/e115720/2014/07/20/vagrant%E3%81%AE%E3%83%8D%E3%83%83%E3%83%88%E3%83%AF%E3%83%BC%E3%82%AF%E8%A8%AD%E5%AE%9A%E3%82%92%E8%A6%8B%E3%81%A6%E3%81%BF%E3%82%88%E3%81%86%E3%80%82/)
> [vagrantã®private_networkã®IPæŒ‡å®šã§ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹äººã¯ä»Šã™ãã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ã¾ã—ã‚‡ã†](http://treeapps.hatenablog.com/entry/2014/06/04/011636)

